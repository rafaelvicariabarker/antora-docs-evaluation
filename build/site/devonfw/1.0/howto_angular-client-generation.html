<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: devonfw Documentation</title>
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">devonfw Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Cobigen</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Usage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-eclipse_usage">Usage of the eclipse UI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-openapiplugin#usage">OpenAPI Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/howto_ionic-client-generation">Ionic/Cordova Client Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/howto_angular-client-generation">Angular Client Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-maven_configuration">Usage in Maven Builds</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-core_configuration">Configuration of the Templates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-eclipse_installation">For eclipse users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Architecture</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki#architecture">CobiGen is build as an extensible framework for incremental code generation&#8230;&#8203;</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Cobigen</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/rafaelvicariabarker/cobigen/edit/refactorForAntora/modules/ROOT/pages/howto_angular-client-generation.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_angular_8_client_generation">Angular 8 Client Generation</a>
<ul class="sectlevel1">
<li><a href="#_requisites">Requisites</a></li>
<li><a href="#_angular_8_workspace">Angular 8 workspace</a></li>
<li><a href="#_install_node_dependencies">Install Node dependencies</a></li>
<li><a href="#_generating">Generating</a></li>
<li><a href="#_routing">Routing</a></li>
<li><a href="#_jwt_authentication"><code>JWT</code> Authentication</a></li>
<li><a href="#_running">Running</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="_angular_8_client_generation" class="sect0"><a class="anchor" href="#_angular_8_client_generation"></a>Angular 8 Client Generation</h1>
<div class="paragraph">
<p>The generation can create a full Angular 8 client using the devon4ng-application-template package located at workspaces/examples folder of the distribution. For more details about this package, please refer <a href="https://github.com/devonfw/devon4ng-application-template">here</a>.</p>
</div>
<div class="paragraph">
<p>Take into account that the TypeScript merging for CobiGen needs Node 6 or higher to be installed at your machine.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is a short introduction to the Angular generation. For a deeper tutorial including the generation of the backend, we strongly recommend you to follow <a href="files/HOW-TO-devonfw-ide-CobiGen-PoC-E2E_v3.2.pdf">this document</a>.
</td>
</tr>
</table>
</div>
<div class="sect1">
<h2 id="_requisites"><a class="anchor" href="#_requisites"></a>Requisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Install yarn globally:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cmd hljs" data-lang="cmd">npm install -g yarn</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_angular_8_workspace"><a class="anchor" href="#_angular_8_workspace"></a>Angular 8 workspace</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The output location of the generation can be defined editing the <strong><em>cobigen.properties</em></strong> file located at <strong><em>crud_angular_client_app/templates</em></strong> folder of the <strong><em>CobiGen_Templates</em></strong> project.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_7.png"><img src="_images/images/howtos/angular4-gen/ng4gen_7.png" alt="cobigen.properties file" width="450"></a>
</div>
</div>
<div class="paragraph">
<p>By default, the output path would be into the <em>devon4ng-application-template</em> folder at the root of the devon4j project parent folder:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root/
 |- devon4ng-application-template/
 |- devon4j-project-parent/
   |- core/
   |- server/</pre>
</div>
</div>
<div class="paragraph">
<p>However, this path can be changed, for example to <em>src/main/client</em> folder of the devon4j project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-txt hljs" data-lang="txt">relocate: ./src/main/client/${cwd}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>root/
 |- devon4j-project-parent/
   |- core/
      |- src
        |- main
          |- client
   |- server/</pre>
</div>
</div>
<div class="paragraph">
<p>Once the output path is chosen, copy the files of <a href="https://github.com/devonfw/devon4ng-application-template"><code>DEVON4NG-APPLICATION-TEMPLATE</code></a> repository into this output path.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_install_node_dependencies"><a class="anchor" href="#_install_node_dependencies"></a>Install Node dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Open a terminal into devon4ng-application-template copied and just run the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">yarn</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will start the installation of all node packages needed by the project into the node_modules folder.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generating"><a class="anchor" href="#_generating"></a>Generating</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From an Eto object, right click, CobiGen &#8594; Generate will show the CobiGen wizard relative to client generation:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_1.png"><img src="_images/images/howtos/angular4-gen/ng4gen_1.png" alt="CobiGen Client Generation Wizard" width="450"></a>
</div>
</div>
<div class="paragraph">
<p>Check all the increments relative to Angular:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Angular devon4j URL increment is only needed for the first generations however, checking it again on next generation will not cause any problem.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As we done on other generations, we click Next to choose which fields to include at the generation or simply clicking Finish will start the generation.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_3.png"><img src="_images/images/howtos/angular4-gen/ng4gen_3.png" alt="CobiGen Client Generation Wizard 3" width="450"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_routing"><a class="anchor" href="#_routing"></a>Routing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Due to the nature of the TypeScript merger, currently is not possible to merge properly the array of paths objects of the routings at app.routing.ts file so, this modification should be done by hand on this file. However, the import related to the new component generated is added.</p>
</div>
<div class="paragraph">
<p>This would be the generated <code>app-routing.module</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">import { Routes, RouterModule } from '@angular/router';
import { LoginComponent } from './login/login.component';
import { AuthGuard } from './shared/security/auth-guard.service';
import { InitialPageComponent } from './initial-page/initial-page.component';
import { HomeComponent } from './home/home.component';
import { SampleDataGridComponent } from './sampledata/sampledata-grid/sampledata-grid.component';
//Routing array
const appRoutes: Routes = [{
    path: 'login',
    component: LoginComponent
}, {
    path: 'home',
    component: HomeComponent,
    canActivate: [AuthGuard],
    children: [{
        path: '',
        redirectTo: '/home/initialPage',
        pathMatch: 'full',
        canActivate: [AuthGuard]
    }, {
        path: 'initialPage',
        component: InitialPageComponent,
        canActivate: [AuthGuard]
    }]
}, {
    path: '**',
    redirectTo: '/login',
    pathMatch: 'full'
}];
export const routing = RouterModule.forRoot(appRoutes);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adding the following into the children object of <code>home</code>, will add into the side menu the entry for the component generated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">{
    path: 'sampleData',
    component: SampleDataGridComponent,
    canActivate: [AuthGuard],
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">import { Routes, RouterModule } from '@angular/router';
import { LoginComponent } from './login/login.component';
import { AuthGuard } from './shared/security/auth-guard.service';
import { InitialPageComponent } from './initial-page/initial-page.component';
import { HomeComponent } from './home/home.component';
import { SampleDataGridComponent } from './sampledata/sampledata-grid/sampledata-grid.component';
//Routing array
const appRoutes: Routes = [{
    path: 'login',
    component: LoginComponent
}, {
    path: 'home',
    component: HomeComponent,
    canActivate: [AuthGuard],
    children: [{
        path: '',
        redirectTo: '/home/initialPage',
        pathMatch: 'full',
        canActivate: [AuthGuard]
    }, {
        path: 'initialPage',
        component: InitialPageComponent,
        canActivate: [AuthGuard]
    }, {
        path: 'sampleData',
        component: SampleDataGridComponent,
        canActivate: [AuthGuard],
    }]
}, {
    path: '**',
    redirectTo: '/login',
    pathMatch: 'full'
}];
export const routing = RouterModule.forRoot(appRoutes);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_6.png"><img src="_images/images/howtos/angular4-gen/ng4gen_6.png" alt="`APP SideMenu`" width="450"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jwt_authentication"><a class="anchor" href="#_jwt_authentication"></a><code>JWT</code> Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using a back end server with <code>JWT</code> Authentication (there is a sample in workspaces/folder called <code><strong>sampleJwt</strong></code>) you have to specify the Angular application to use this kind of authentication.</p>
</div>
<div class="paragraph">
<p>By default the variable is set to CSRF but you can change it to <code>JWT</code> by going to the <a href="https://github.com/devonfw/devon4ng-application-template/blob/develop/src/environments/environment.ts#L10">Enviroment.ts</a> and setting <code>security: 'jwt'</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running"><a class="anchor" href="#_running"></a>Running</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First of all, run your devon4j java server by right clicking over <code>SpringBootApp.java</code> Run As &#8594; Java Application. This will start to run the <code>SpringBoot</code> server. Once you see the Started <code>SpringBoot</code> in <code>XX</code> seconds, the backend is running.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_4.png"><img src="_images/images/howtos/angular4-gen/ng4gen_4.png" alt="Starting `SpringBoot`" width="450"></a>
</div>
</div>
<div class="paragraph">
<p>Once the the server is running, open a Devon console at the output directory defined previously and run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-cmd hljs" data-lang="cmd">ng serve --open</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will run the Angular 8 application at:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">http://localhost:4200</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="images/howtos/angular4-gen/ng4gen_5.png"><img src="_images/images/howtos/angular4-gen/ng4gen_5.png" alt="Running Angular 8 app" width="450"></a>
</div>
</div>
<div class="paragraph">
<p>Once finished, the browser will open automatically at the previous localhost URL showing the Angular 8 application, using the credentials set at the devon4j java server you will be able to access.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
