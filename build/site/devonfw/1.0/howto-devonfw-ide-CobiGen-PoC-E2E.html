<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: devonfw Documentation</title>
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">devonfw Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="devonfw" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Cobigen</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Usage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-eclipse_usage">Usage of the eclipse UI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-openapiplugin#usage">OpenAPI Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/howto_ionic-client-generation">Ionic/Cordova Client Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/howto_angular-client-generation">Angular Client Generation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-maven_configuration">Usage in Maven Builds</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-core_configuration">Configuration of the Templates</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki/cobigen-eclipse_installation">For eclipse users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Architecture</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/devonfw/cobigen/wiki#architecture">CobiGen is build as an extensible framework for incremental code generation&#8230;&#8203;</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Cobigen</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">Cobigen</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  <div class="edit-this-page"><a href="https://github.com/rafaelvicariabarker/cobigen/edit/refactorForAntora/modules/ROOT/pages/howto-devonfw-ide-CobiGen-PoC-E2E.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_end_to_end_poc_code_generation_using_entity_class">End to End POC Code generation using Entity class</a>
<ul class="sectlevel1">
<li><a href="#_prerequisites">Prerequisites</a></li>
<li><a href="#_steps_to_create_a_sample_project_using_cobigen">Steps to create a Sample Project using Cobigen</a>
<ul class="sectlevel2">
<li><a href="#_back_end">Back End</a></li>
<li><a href="#_front_end">Front End</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
</div>
</div>
<h1 id="_end_to_end_poc_code_generation_using_entity_class" class="sect0"><a class="anchor" href="#_end_to_end_poc_code_generation_using_entity_class"></a>End to End POC Code generation using Entity class</h1>
<div class="openblock partintro">
<div class="content">
This article helps to create a sample application using cobigen.
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Download and install devonfw IDE <a href="https://devonfw.com/website/pages/docs/devonfw-ide-introduction.asciidoc.html#setup.asciidoc">here</a>,</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_steps_to_create_a_sample_project_using_cobigen"><a class="anchor" href="#_steps_to_create_a_sample_project_using_cobigen"></a>Steps to create a Sample Project using Cobigen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>HOW_TO</code> is divided in 2 parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>BE</code>-Back End generator (<code>DB</code> + <code>DAO</code> + services) – CONTRACT FIRST APPROACH</p>
</li>
<li>
<p><code>FE</code>-Front End generator (Web App Angular + Ionic App) – CONTRACT FIRST APPROACH</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image63.png" alt="cobigen code-first generation"></span></p>
</div>
<div class="paragraph">
<p>So, ready to go! We’re going to start from the <code>BE</code> part …</p>
</div>
<div class="sect2">
<h3 id="_back_end"><a class="anchor" href="#_back_end"></a>Back End</h3>
<div class="paragraph">
<p>Under your path installation of DevonFW, you can find the <em>eclipse-main.bat</em> script and you can run it:<br>
run <em>installation_path</em>\eclipse-main.bat</p>
</div>
<div class="paragraph">
<p>It will open eclipse</p>
</div>
<div class="paragraph">
<p>Create a project using a command from the command prompt.<br>
To made it, it&#8217;s necessary to open a CMD and open the folder where it&#8217;s installed DevonFW and launch this command under the path <em>workspaces/main</em>.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To facilitate this step, you can go from your "<em>File Explorer</em>" under <strong>workspaces/main</strong> folder and with the right button of the mouse, choose "<em>Open devonfw CMD shell here</em>"
<span class="image"><img src="_images/images/howtos/e2e_gen/image85.png" alt="eclipse devon"></span>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then launch this command from CMD:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">devon java create com.example.domain.myapp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Import the project to eclipse as maven project
<span class="image"><img src="_images/images/howtos/e2e_gen/image14.png" alt="eclipse devon"></span></p>
</div>
<div class="paragraph">
<p>Click <strong>FINISH</strong></p>
</div>
<div class="paragraph">
<p>Now We have the following 4 projects.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image15.png" alt="eclipse package explorer"></span></p>
</div>
<div class="paragraph">
<p><strong>BEFORE to start to create an Entity class, remember to create the tables, for this POC it&#8217;s used an H2 Database!</strong></p>
</div>
<div class="paragraph">
<p>Create a new <strong>SQL</strong> <strong>file</strong> (<code>i.e: V0002__CreateTables_myapp.sql</code>) inside <em>`myapp-core`</em> , under the folder path <em>`/myapp-core/src/main/resources/db/migration/1.0`</em> and insert the following script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE EMPLOYEE (
id BIGINT auto_increment, modificationCounter INTEGER NOT NULL,
employeeid BIGINT auto_increment,
name VARCHAR(255),
surname VARCHAR(255),
email VARCHAR(255),
PRIMARY KEY (employeeid)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>WARNING 1</em></strong>: please note that there in that folder is present only one file, 0001, and you have to add the other files in progressive number order (i.e. 0002)!<br>
<strong><em>WARNING 2</em></strong>: please note that there are 2 underscore in the name!</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image64.png" alt="sql file"></span></p>
</div>
<div class="paragraph">
<p>Now create another SQL file (<code>i.e: V0003__PopulateTables-myapp.sql</code>) and add following script about the INSERT in order to populate the table created before.
The script must be inserted at the same path used before: <em>`/myapp-core/src/main/resources/db/migration/1.0`</em></p>
</div>
<div class="paragraph">
<p><strong><em>WARNING 1</em></strong>: please note that there in that folder is present only one file, 0001, and you have to add the other files in progressive number order (i.e. 0003)!<br>
<strong><em>WARNING 2</em></strong>: please note that there are 2 underscore in the name!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO EMPLOYEE (id, modificationCounter, employeeid, name, surname,email) VALUES (1, 1, 1, 'John','Doe','john.doe@example.com');
INSERT INTO EMPLOYEE (id, modificationCounter, employeeid, name, surname,email) VALUES (2, 2, 2, 'Tom','Smith', 'tom.smith@example.com');
INSERT INTO EMPLOYEE (id, modificationCounter, employeeid, name, surname,email) VALUES (3, 3, 3, 'Joe','Schmoe', 'joe.schmoe@example.com');</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image65.png" alt="sql insert"></span></p>
</div>
<div class="paragraph">
<p><strong>Let&#8217;s create the Entity Class for the code generation</strong></p>
</div>
<div class="paragraph">
<p>Create a package <strong>employeemanagement.dataaccess.api</strong> under the folder <em>`myapp-core`</em>.<br>
Note: It is important to follow this naming convention for CobiGen to work properly.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image66.png" alt="package"></span></p>
</div>
<div class="paragraph">
<p>Now create a <code>JPA</code> Entity class in this package</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Column;
@Entity
@javax.persistence.Table(name = "EMPLOYEE")
public class EmployeeEntity {
  @Column(name = "EMPLOYEEID")
  @GeneratedValue(strategy = GenerationType.IDENTITY)
  private Long employeeId;
  @Column(name = "NAME")
  private String name;
  @Column(name = "SURNAME")
  private String surname;
  @Column(name = "EMAIL")
  private String email;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>then generate <code>getters</code> and <code>setters</code> for all attribute, as you can see in the image below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image67.png" alt="<code>getter &amp; setter</code>"></span>
<span class="image"><img src="_images/images/howtos/e2e_gen/image68.png" alt="<code>getter &amp; setter</code>"></span></p>
</div>
<div class="paragraph">
<p>Use Cobigen to generate code. Right click on <code>EmployeeEntity</code>. CobiGen &#8594; Generate</p>
</div>
<div class="paragraph">
<p>If it will ask you to download the templates, click on <em>update</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image19.png" alt="cobigen generate"></span></p>
</div>
<div class="paragraph">
<p>It will automatically download the latest version of <em>CobiGen_Templates</em>.</p>
</div>
<div class="paragraph">
<p><strong>Attention:</strong> If you want to adapt the CobiGen_Templates, (normally this is not necessary), you will find at the end of this document (in a separate chapter) a tutorial on how to import them and adapt them!</p>
</div>
<div class="paragraph">
<p>Click on all the option selected as below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image20.png" alt="cobigen option selection"></span></p>
</div>
<div class="paragraph">
<p>Click on finish. Below Screen would be seen. Click on continue</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image21.png" alt="cobigen finish"></span></p>
</div>
<div class="paragraph">
<p><strong>The entire <span class="underline"><code>BE</code> layer</span> structure having <code>CRUD</code> operation methods will be auto generated.</strong></p>
</div>
<div class="paragraph">
<p>Some classes will be generated on the api part (<em>`myapp-api`)</em>, normally it will be interfaces, as shown below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image22.png" alt="be layer"></span></p>
</div>
<div class="paragraph">
<p>Some other classes will be generated on the core part (<em>`myapp-core`)</em>, normally it will be implementations as shown below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image23.png" alt="core folder"></span></p>
</div>
<div class="paragraph">
<p>The last step is to add the Cross Domain process, because when you are developing Javascript client and server application separately, you have to deal with cross domain issues.</p>
</div>
<div class="paragraph">
<p>So, we need to prepare server side to accept request from other domains. We need to cover the following points:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Accept request from other domains.</p>
</li>
<li>
<p>Accept devonfw used headers like <code>X-CSRF-TOKEN</code> or <code>correlationId</code>.</p>
</li>
<li>
<p>Be prepared to receive secured request (cookies).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To do this it&#8217;s necessary to add two kind of dependecies in the pom.xml of the <em>`myapp-core`</em> folder, at the end of the list of dependecies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">    &lt;dependency&gt;
      &lt;groupId&gt;com.devonfw.java.starters&lt;/groupId&gt;
      &lt;artifactId&gt;devon4j-starter-security-cors&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;com.devonfw.java.starters&lt;/groupId&gt;
      &lt;artifactId&gt;devon4j-starter-security-csrf&lt;/artifactId&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image70.png" alt="pom xml"></span></p>
</div>
<div class="paragraph">
<p>Next step is to add some properties under your <em>application.properties</em> file, in the <code>myapp-core</code> folder in the <em>resources/config</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">security.cors.spring.allowCredentials=true
security.cors.spring.allowedOriginPatterns=*
security.cors.spring.allowedHeaders=*
security.cors.spring.allowedMethods=OPTIONS,HEAD,GET,PUT,POST,DELETE,PATCH
security.cors.pathPattern=/**</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image71.png" alt="application properties"></span></p>
</div>
<div class="paragraph">
<p><strong>BEFORE to generate the <code>FE</code></strong>, please start the Tomcat server to check that <code>BE</code> Layer has been generated properly.</p>
</div>
<div class="paragraph">
<p>To start a server you just have to right click on <em>`SpringBootApp.java`</em> &#8594; <em>run as &#8594; Java Application</em></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image24.png" alt="Eclipse run as"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image69.png" alt="Spring boot run"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image26.png" alt="Spring boot run"></span></p>
</div>
<div class="paragraph">
<p><strong><code>BE</code> DONE</strong></p>
</div>
<div class="paragraph">
<p>Last but not least: We make a quick REST services test !</p>
</div>
<div class="paragraph">
<p>See in the <em>application.properties</em> the TCP Port and the <code>PATH</code></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image27.png" alt="application properties"></span></p>
</div>
<div class="paragraph">
<p>Now compose the Rest service URL:</p>
</div>
<div class="paragraph">
<p><strong>service class &lt;path&gt;/&lt;service method path&gt;</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;server&gt; refers to server with port no. (ie: localhost:8081)</p>
</li>
<li>
<p>&lt;app&gt; is in the <em>application.properties</em> (empty in our case, see above)</p>
</li>
<li>
<p>&lt;rest service class path&gt; refers to <code>EmployeemanagementRestService</code>: (i.e: /employeemanagement/v1)</p>
</li>
<li>
<p>&lt;service method path&gt;/employee/{id}  (i.e: for  <code>getEmployee</code> method)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image28.png" alt="url mapping"></span></p>
</div>
<div class="paragraph">
<p>URL of <code>getEmployee</code> for this example is:</p>
</div>
<div class="paragraph">
<p>For all employees (<code>POST</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">http://localhost:8081/services/rest/employeemanagement/v1/employee/search</code></pre>
</div>
</div>
<div class="paragraph">
<p>For the specific employee (<code>GET</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">http://localhost:8081/services/rest/employeemanagement/v1/employee/1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now download <a href="https://www.getpostman.com/apps">Postman</a> to test the rest services.</p>
</div>
<div class="paragraph">
<p>Once done, you have to create a <code>POST</code> Request for the LOGIN and insert in the body the JSON containing the username and password <em>admin</em></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image72.png" alt="postman"></span></p>
</div>
<div class="paragraph">
<p><strong><em>WARNING</em></strong>: please note that the body of the request must be JSON type!</p>
</div>
<div class="paragraph">
<p>Once done with success (<strong>Status: 200 OK</strong>) - <em>you can see the status of the response in the top right corner of Postman</em> - we can create a NEW <code>GET</code> Request in order to get one employee.</p>
</div>
<div class="paragraph">
<p>To do this you have to create a new request in Postman, <code>GET</code> type, and insert the URL specified before:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">http://localhost:8081/services/rest/employeemanagement/v1/employee/1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Thenk click on <strong>"SEND"</strong> button&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Now you have to check that response has got <strong>Status: 200 OK</strong> and to see the below Employee</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image73.png" alt="postman"></span></p>
</div>
<div class="paragraph">
<p>Now that We have successfully tested the <code>BE</code> is time to go to create the <code>FE</code> !</p>
</div>
</div>
<div class="sect2">
<h3 id="_front_end"><a class="anchor" href="#_front_end"></a>Front End</h3>
<div class="paragraph">
<p>Let’s start now with angular Web and then Ionic app.</p>
</div>
<div class="sect3">
<h4 id="_angular_web_app"><a class="anchor" href="#_angular_web_app"></a>Angular Web App</h4>
<div class="paragraph">
<p>To generate angular structure, download or clone <strong>devon4ng-application-template</strong> from</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">https://github.com/devonfw/devon4ng-application-template</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image74.png" alt="devon dist folder"></span></p>
</div>
<div class="paragraph">
<p>IMPORTANT when you download the zip of the source code of your <code>FE</code> application, the name of the app MUST BE <strong>devon4ng-application-template</strong> and you can extract it in your DevonFW folder, under <em>workspaces/main</em></p>
</div>
<div class="paragraph">
<p>Once downloaded the <code>APP</code>, you can open the application with your favourite IDE (Intellij, Visual Studio Code, &#8230;&#8203;)<br>
Instead, if you want to open this project with Eclipse, you have to follow these steps:<br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right click on the left part of Eclipse, anch click on "Import":
<span class="image"><img src="_images/images/howtos/e2e_gen/image83.png" alt="import"></span></p>
</li>
<li>
<p>Click on "Projects from Folder or Archive"
<span class="image"><img src="_images/images/howtos/e2e_gen/image82.png" alt="import"></span></p>
</li>
<li>
<p>Select your folder where you have saved the Angular <code>FE</code> Application, under <em>workspaces/main</em>. Wait that all the dependecies are charged and then click on "Finish"
<span class="image"><img src="_images/images/howtos/e2e_gen/image84.png" alt="import"></span></p>
</li>
<li>
<p>At the end, you will have a structure like this:
<span class="image"><img src="_images/images/howtos/e2e_gen/image86.png" alt="import"></span></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once done, right click on <code>EmployeeEto</code>.java file present under the package <em>com.devonfw.poc.employeemanagement.logic.api.to</em>, in the Back End part (<em>`myapp-core</em> module`).
Click on the selected options as seen in the screenshot:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image37.png" alt="eclipse generate"></span></p>
</div>
<div class="paragraph">
<p>Click on Finish</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image38.png" alt="eclipse"></span></p>
</div>
<div class="paragraph">
<p>The entire <code>ANGULAR</code> structure has been auto generated. The generated code will be merged to the existing.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image39.png" alt="angular <code>ee</code> layer"></span></p>
</div>
<div class="paragraph">
<p>IMPORTANT now you have to check in the <strong><em>app-routing.module.ts</em></strong> file, if the content corresponding to the code below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';
import { AuthGuard } from './core/security/auth-guard.service';
import { NavBarComponent } from './layout/nav-bar/nav-bar.component';
const routes: Routes = [{
        path: '',
        redirectTo: '/login',
        pathMatch: 'full'
    },
    {
        path: 'login',
        loadChildren: () =&gt;
            import('./auth/auth.module').then(m =&gt; m.AuthDataModule)
    },
    {
        path: 'home',
        component: NavBarComponent,
        canActivateChild: [
            AuthGuard
        ],
        children: [{
                path: 'initial',
                loadChildren: () =&gt;
                    import('./home/initial-page/initial-page.module').then(
                        m =&gt; m.InitialPageModule,
                    )
            },
            {
                path: 'employee',
                loadChildren: () =&gt;
                    import('./employee/employee.module').then(
                        m =&gt; m.EmployeeModule,
                    )
            }
        ]
    },
    {
       path: '**',
       redirectTo: '/login'
    },
];
@NgModule({
    imports: [
        RouterModule.forRoot(routes)
    ],
    exports: [
        RouterModule
    ]
})
export class AppRoutingModule {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After that, if you want to make visible the Employee Grid in you <code>FE</code> application, you have to modify the <code>nav-bar.component.html</code>, to add the Employee grid in the section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;div class="home-container-outer"&gt;
  &lt;div class="home-container-inner"&gt;
    &lt;mat-toolbar class="app-header-container" color="primary"&gt;
      &lt;app-header (toggle)="onToggle($event)" [sideNavOpened]="sideNavOpened"&gt;&lt;/app-header&gt;
    &lt;/mat-toolbar&gt;
    &lt;div class="sidenav-container-outer"&gt;
      &lt;div class="sidenav-container-inner"&gt;
        &lt;mat-sidenav-container&gt;
          &lt;mat-sidenav [disableClose]="false" [mode]="isMobile ? 'over' : 'side'" [opened]="!isMobile || sideNavOpened"
                       #sidenav&gt;
            &lt;mat-nav-list&gt;
              &lt;!-- Sidenav links --&gt;
              &lt;a id="home" mat-list-item [routerLink]="['./initial']" (click)="close()"&gt;
                &lt;mat-icon matListAvatar&gt;
                  home
                &lt;/mat-icon&gt;
                &lt;h3 matLine&gt;{{ 'home' | transloco }}&lt;/h3&gt;
                &lt;p matLine class="desc"&gt;{{ 'description' | transloco }}&lt;/p&gt;&lt;/a&gt;
              &lt;a id="employee" mat-list-item [routerLink]="['./employee']" (click)="close()"&gt;
                &lt;mat-icon matListAvatar&gt;
                  grid_on
                &lt;/mat-icon&gt;
                &lt;h3 matLine&gt; {{ 'employeemanagement.Employee.navData' | transloco }} &lt;/h3&gt;
                &lt;p matLine class="desc"&gt; {{ 'employeemanagement.Employee.navDataSub' | transloco }} &lt;/p&gt;&lt;/a&gt;
            &lt;/mat-nav-list&gt;
          &lt;/mat-sidenav&gt;
          &lt;mat-sidenav-content&gt;
            &lt;div class="content-container-outer"&gt;
              &lt;div class="content-container-inner"&gt;
                &lt;router-outlet&gt;&lt;/router-outlet&gt;
              &lt;/div&gt;
              &lt;mat-toolbar class="public-footer"&gt;
                &lt;span&gt;devonfw Application&lt;/span&gt;
                &lt;span&gt;devonfw&lt;/span&gt;
              &lt;/mat-toolbar&gt;
            &lt;/div&gt;
          &lt;/mat-sidenav-content&gt;
        &lt;/mat-sidenav-container&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Open the command prompt and execute <em>devon npm install</em> from your application folder (<em>workspaces/main/devon4ng-application-template</em>), which would download all the required libraries.</p>
</div>
<div class="paragraph">
<p>Check the file <strong>environment.ts</strong> if the server path is correct. (for production you will have to change also the environment.prod.ts file)</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image42.png" alt="environment"></span></p>
</div>
<div class="paragraph">
<p>In order to do that, it’s important to look at the application.properties to see the values as <code>PATH</code>, TCP port etc&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image43.png" alt="configure"></span></p>
</div>
<div class="paragraph">
<p>For example in this case the URL should be since the context path is empty the server <code>URLS</code> should be like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">export const environment = {
    production: false,
    restPathRoot: 'http://localhost:8081/',
    restServiceRoot: 'http://localhost:8081/services/rest/',
    security: 'csrf'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Warning</strong>: REMEMBER to set security filed to <strong>CSRF</strong> , if it is not configured already.</p>
</div>
<div class="paragraph">
<p>Now run the <strong>devon ng serve -o</strong> command to run the Angular Application, from your application folder (<em>workspaces/main/devon4ng-application-template</em>), as done before.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image75.png" alt="ng serve command"></span></p>
</div>
<div class="paragraph">
<p>If the command execution is <strong>successful</strong>, the below screen will <strong>appear</strong> and it would be automatically redirected to the url:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">http://localhost:4200/login</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image77.png" alt="angular web app"></span></p>
</div>
<div class="paragraph">
<p>You can login in the Web Application, with <strong><em>admin</em></strong> user and password.<br>
Obviously, the <code>BackEnd</code> part must be up &amp; running during this test!</p>
</div>
<div class="paragraph">
<p><strong><code>ANGULAR WebApp DONE</code></strong></p>
</div>
</div>
<div class="sect3">
<h4 id="_ionic_mobile_app"><a class="anchor" href="#_ionic_mobile_app"></a>Ionic Mobile App</h4>
<div class="paragraph">
<p>To generate Ionic structure, download or clone <em>*devon4ng-application-template*</em> from</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-URL hljs" data-lang="URL">https://github.com/devonfw/devon4ng-ionic-application-template</code></pre>
</div>
</div>
<div class="paragraph">
<p>IMPORTANT when you download the zip of the source code of your <code>FE</code> application, the name of the app MUST BE <strong>devon4ng-ionic-application-template</strong> and you can extract it in your DevonFW folder, under <em>workspaces/main</em></p>
</div>
<div class="paragraph">
<p>Once downloaded the <code>APP</code>, you can open the application with your favourite IDE (Intellij, Visual Studio Code, &#8230;&#8203;)<br>
Instead, if you want to open this project with Eclipse, you have to follow these steps:<br></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right click on the left part of Eclipse, anch click on "Import":
<span class="image"><img src="_images/images/howtos/e2e_gen/image83.png" alt="import"></span></p>
</li>
<li>
<p>Click on "Projects from Folder or Archive"
<span class="image"><img src="_images/images/howtos/e2e_gen/image82.png" alt="import"></span></p>
</li>
<li>
<p>Select your folder where you have saved the Angular <code>FE</code> Application, under <em>workspaces/main</em>. Wait that all the dependecies are charged and then click on "Finish"
<span class="image"><img src="_images/images/howtos/e2e_gen/image84.png" alt="import"></span></p>
</li>
<li>
<p>At the end, you will have a structure like this:
<span class="image"><img src="_images/images/howtos/e2e_gen/image86.png" alt="import"></span></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once done, Right click on the <strong><code>EmployeeEto</code></strong> as you already did before in order to use CobiGen.
Click on the selected options as seen in the screenshot:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image46.png" alt="cobigen ionic"></span></p>
</div>
<div class="paragraph">
<p>Click on Finish<br>
The entire ionic structure will be auto generated.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image47.png" alt="image47"></span></p>
</div>
<div class="paragraph">
<p>Change (if necessary) the server url (with correct serve url) in <em>environment.ts</em>, <em>environment.prod.ts</em> and <em>environment.android.ts</em> files (i.e: itapoc\devon4ng-ionic-application-template\src\environments\).</p>
</div>
<div class="paragraph">
<p>The <em>angular.json</em> file inside the project has already a build configuration for android.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image48.png" alt="image48"></span></p>
</div>
<div class="paragraph">
<p>The only <strong>TWO</strong> thing that you have to modify, in this IONIC app is in <em>employee-list.page.html</em> and <em>business-operator.service.ts</em>.y<br></p>
</div>
<div class="paragraph">
<p><strong>1:</strong><br>
You have to change this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;layoutheader Title="Employee"&gt;&lt;/layoutheader&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>with this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;app-layout-header title="Employee"&gt;&lt;/app-layout-header&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>2:</strong><br>
You have to change this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">return this.restPath + '/security/v1/csrftoken';</code></pre>
</div>
</div>
<div class="paragraph">
<p>with this line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ts hljs" data-lang="ts">return this.restPath + 'csrf/v1/token/';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once checked if all the files are correct, open a CMD devon CLI on the folder of the ionic template application (<em>workspaces/main/devon4ng-ionic-application-template</em>), under your <code>devonFW</code> workspace.<br>
In this folder:<br>
Run the command <em>*devon npm install*</em> in the root folder to download the dependecies.<br>
Once finished, run the command <em>*devon ionic serve*</em></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image49.png" alt="image49"></span></p>
</div>
<div class="paragraph">
<p>Once the execution is successful, you can make the LOGIN with <strong>admin/admin</strong> and&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image50.png" alt="image50"></span></p>
</div>
<div class="paragraph">
<p><strong>IONIC Mobile App DONE</strong></p>
</div>
<div class="paragraph">
<p>So: <strong>Well Done!!!</strong></p>
</div>
<div class="paragraph">
<p><code><strong>Starting from an Entity class you have successfully generated the Back-End layer (REST, SOAP, `DTO</code>, Spring services, <code>Hibernate DAO</code>), the Angular Web App and the Ionic mobile App!</strong>`</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image51.png" alt="image51"></span></p>
</div>
<div class="sect4">
<h5 id="_build_apk"><a class="anchor" href="#_build_apk"></a>Build <code>APK</code></h5>
<div class="paragraph">
<p>Since We’re going to create apk remember the following preconditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://gradle.org/install/">Gradle</a></p>
</li>
<li>
<p><a href="https://developer.android.com/studio">Android Studio</a></p>
</li>
<li>
<p><a href="https://developer.android.com/studio/#command-tools">Android sdk</a></p>
</li>
<li>
<p><a href="https://capacitor.ionicframework.com/docs/getting-started/">Capacitor</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now, open cmd and type the path where your <em>devon4ng-ionic-application-template</em> project is present.<br>
Run the following commands:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>npx cap init</p>
</li>
<li>
<p>ionic build --configuration=android</p>
</li>
<li>
<p>npx cap add android</p>
</li>
<li>
<p>npx cap copy</p>
</li>
<li>
<p>npx cap open android</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Build the <code>APK</code> using Android studio.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/images/howtos/e2e_gen/image52.png" alt="image52"></span>
<span class="image"><img src="_images/images/howtos/e2e_gen/image53.png" alt="image53"></span>
<span class="image"><img src="_images/images/howtos/e2e_gen/image54.png" alt="image54"></span>
<span class="image"><img src="_images/images/howtos/e2e_gen/image55.png" alt="image55"></span></p>
</div>
<div class="paragraph">
<p>You can find your apk file in:
<em>/devon4ng-ionic-application-template/android/app/build/outputs/apk/debug</em></p>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
